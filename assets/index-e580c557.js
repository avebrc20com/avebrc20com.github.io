import{z as E,d as D,r as g,a8 as $,f as j,a9 as v,aa as C,w as M,ab as N,ac as R,h as T,M as _,n as l,ad as u,G as k,C as B,m as U,ae as q,T as P,af as F,D as G,s as f}from"./index-c6e0f175.js";const[O,c]=E("image"),V={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:u,height:u,radius:u,lazyLoad:Boolean,iconSize:u,showError:k,errorIcon:B("photo-fail"),iconPrefix:String,showLoading:k,loadingIcon:B("photo")};var A=D({name:O,props:V,emits:["load","error"],setup(e,{emit:t,slots:i}){const n=g(!1),a=g(!0),o=g(),{$Lazyload:s}=$().proxy,I=j(()=>{const r={width:v(e.width),height:v(e.height)};return C(e.radius)&&(r.overflow="hidden",r.borderRadius=v(e.radius)),r});M(()=>e.src,()=>{n.value=!1,a.value=!0});const h=r=>{a.value&&(a.value=!1,t("load",r))},m=()=>{const r=new Event("load");Object.defineProperty(r,"target",{value:o.value,enumerable:!0}),h(r)},b=r=>{n.value=!0,a.value=!1,t("error",r)},w=(r,d,L)=>L?L():l(F,{name:r,size:e.iconSize,class:d,classPrefix:e.iconPrefix},null),S=()=>{if(a.value&&e.showLoading)return l("div",{class:c("loading")},[w(e.loadingIcon,c("loading-icon"),i.loading)]);if(n.value&&e.showError)return l("div",{class:c("error")},[w(e.errorIcon,c("error-icon"),i.error)])},x=()=>{if(n.value||!e.src)return;const r={alt:e.alt,class:c("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?U(l("img",P({ref:o},r),null),[[q("lazy"),e.src]]):l("img",P({ref:o,src:e.src,onLoad:h,onError:b},r),null)},y=({el:r})=>{const d=()=>{r===o.value&&a.value&&m()};o.value?d():_(d)},z=({el:r})=>{r===o.value&&!n.value&&b()};return s&&N&&(s.$on("loaded",y),s.$on("error",z),R(()=>{s.$off("loaded",y),s.$off("error",z)})),T(()=>{_(()=>{var r;(r=o.value)!=null&&r.complete&&m()})}),()=>{var r;return l("div",{class:c({round:e.round,block:e.block}),style:I.value},[x(),S(),(r=i.default)==null?void 0:r.call(i)])}}});const J=G(A);function K(e={page:1,page_size:50,orderBy:"market",sort:"down"}){var n,a;let t=(n=e==null?void 0:e.orderBy)!=null?n:"market",i=(a=e==null?void 0:e.sort)!=null?a:"down";return f({method:"get",url:"/v1api/v3/brc_tokens/hot",params:{page:e.page,page_size:e.page_size,orderBy:t+"_"+i}}).then(o=>o.data)}function Q(e){return f({method:"get",url:"/v1api/v2/brc_tokens/query",params:{keyword:e}})}function W(e){return f({method:"get",url:"/v1api/v2/brc_tokens/detail",params:{inscription_number:e}})}function X(e,t=7){return f({method:"get",url:"/v1api/v2/brc_tokens/detail/price",params:{inscription_number:e,day:t}})}export{J as I,W as a,X as b,K as g,Q as s};
